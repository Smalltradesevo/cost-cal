<!-- Navigation -->
      <div class="navigation">
        <button class="btn btn-secondary" id="prevBtn" onclick="navigate(-1)" disabled>
          ← Previous
        </button>
        <button class="btn btn-primary" id="nextBtn" onclick="navigate(1)">
          Next →
        </button>
      </div>
    </div>
  </div>

  <!-- Audio for avatars -->
  <audio id="topAvatarAudio" preload="auto">
    <source src="https://raw.githubusercontent.com/Smalltradesevo/cost-cal/main/assets/audio/wave1.wav" type="audio/wav">
    Your browser does not support the audio element.
  </audio>
  
  <audio id="bottomAvatarAudio" preload="auto">
    <source src="https://raw.githubusercontent.com/Smalltradesevo/cost-cal/main/assets/audio/wave2.wav" type="audio/wav">
    Your browser does not support the audio element.
  </audio>
  
  <audio id="step2AvatarAudio" preload="auto">
    <source src="https://raw.githubusercontent.com/Smalltradesevo/cost-cal/main/assets/audio/wave3.wav" type="audio/wav">
    Your browser does not support the audio element.
  </audio>
  
  <audio id="step3AvatarAudio" preload="auto">
    <source src="https://raw.githubusercontent.com/Smalltradesevo/cost-cal/main/assets/audio/wave4.wav" type="audio/wav">
    Your browser does not support the audio element.
  </audio>
  
  <audio id="step4AvatarAudio" preload="auto">
    <source src="https://raw.githubusercontent.com/Smalltradesevo/cost-cal/main/assets/audio/wave5.wav" type="audio/wav">
    Your browser does not support the audio element.
  </audio>
  
  <audio id="step5AvatarAudio" preload="auto">
    <source src="https://raw.githubusercontent.com/Smalltradesevo/cost-cal/main/assets/audio/wave6.wav" type="audio/wav">
    Your browser does not support the audio element.
  </audio>

  <!-- Include JavaScript -->
  <script src="app.js"></script>
  <script src="https://player.vimeo.com/api/player.js"></script>
  
  <script>
    let currentStep = 1;
    let selectedTierData = null;
    
    // Initialize the calculator
    function init() {
      updateProgress();
      updateNavigation();
    }
    
    // Navigate between steps
    function navigate(direction) {
      const totalSteps = 5;
      const nextStep = currentStep + direction;
      
      if (nextStep >= 1 && nextStep <= totalSteps) {
        // Hide current step
        document.getElementById(`step-${currentStep}`).classList.remove('active');
        
        // Show next step
        currentStep = nextStep;
        document.getElementById(`step-${currentStep}`).classList.add('active');
        
        // Update progress and navigation
        updateProgress();
        updateNavigation();
        
        // If on final step, populate summary data
        if (currentStep === 5) {
          populateSummary();
        }
      }
    }
    
    // Update progress bar and indicators
    function updateProgress() {
      const progressFill = document.getElementById('progressFill');
      const progressText = document.getElementById('progressText');
      const stepDots = document.querySelectorAll('.step-dot');
      
      const progressPercent = (currentStep / 5) * 100;
      progressFill.style.width = `${progressPercent}%`;
      progressText.textContent = `Step ${currentStep} of 5`;
      
      // Update step dots
      stepDots.forEach((dot, index) => {
        if (index < currentStep) {
          dot.classList.add('active');
        } else {
          dot.classList.remove('active');
        }
      });
    }
    
    // Update navigation buttons
    function updateNavigation() {
      const prevBtn = document.getElementById('prevBtn');
      const nextBtn = document.getElementById('nextBtn');
      
      prevBtn.disabled = currentStep === 1;
      
      if (currentStep === 5) {
        nextBtn.style.display = 'none';
      } else {
        nextBtn.style.display = 'block';
      }
    }
    
    // Hide intro banner
    function hideIntro() {
      document.getElementById('introBanner').style.display = 'none';
    }
    
    // Check vision completion
    function checkVisionCompletion() {
      const visionInputs = document.querySelectorAll('.vision-input');
      let completed = 0;
      
      visionInputs.forEach(input => {
        if (input.value.trim() !== '') {
          completed++;
        }
      });
      
      const completionGate = document.getElementById('completionGate');
      if (completed >= 5) { // Require at least 5 fields filled
        completionGate.style.display = 'block';
      } else {
        completionGate.style.display = 'none';
      }
    }
    
    // Calculate business totals
    function calculateBusinessTotal() {
      const cogs = parseFloat(document.getElementById('cogs').value) || 0;
      const tools = parseFloat(document.getElementById('tools').value) || 0;
      const fleet = parseFloat(document.getElementById('fleet').value) || 0;
      const merchantFees = parseFloat(document.getElementById('merchantFees').value) || 0;
      const marketing = parseFloat(document.getElementById('marketing').value) || 0;
      const insurance = parseFloat(document.getElementById('insurance').value) || 0;
      
      // Update display values
      document.getElementById('cogsDisplay').textContent = `${cogs.toLocaleString()}`;
      document.getElementById('toolsDisplay').textContent = `${tools.toLocaleString()}`;
      document.getElementById('fleetDisplay').textContent = `${fleet.toLocaleString()}`;
      document.getElementById('merchantDisplay').textContent = `${merchantFees.toLocaleString()}`;
      document.getElementById('marketingDisplay').textContent = `${marketing.toLocaleString()}`;
      document.getElementById('insuranceDisplay').textContent = `${insurance.toLocaleString()}`;
      
      const total = cogs + tools + fleet + merchantFees + marketing + insurance;
      document.getElementById('businessTotal').textContent = `${total.toLocaleString()}`;
      
      return total;
    }
    
    // Calculate personal totals
    function calculatePersonalTotal() {
      const housing = parseFloat(document.getElementById('housing').value) || 0;
      const utilities = parseFloat(document.getElementById('utilities').value) || 0;
      const food = parseFloat(document.getElementById('food').value) || 0;
      const transportation = parseFloat(document.getElementById('transportation').value) || 0;
      const healthcare = parseFloat(document.getElementById('healthcare').value) || 0;
      const entertainment = parseFloat(document.getElementById('entertainment').value) || 0;
      
      // Update display values
      document.getElementById('housingDisplay').textContent = `${housing.toLocaleString()}`;
      document.getElementById('utilitiesDisplay').textContent = `${utilities.toLocaleString()}`;
      document.getElementById('foodDisplay').textContent = `${food.toLocaleString()}`;
      document.getElementById('transportationDisplay').textContent = `${transportation.toLocaleString()}`;
      document.getElementById('healthcareDisplay').textContent = `${healthcare.toLocaleString()}`;
      document.getElementById('entertainmentDisplay').textContent = `${entertainment.toLocaleString()}`;
      
      const total = housing + utilities + food + transportation + healthcare + entertainment;
      document.getElementById('personalTotal').textContent = `${total.toLocaleString()}`;
      
      return total;
    }
    
    // Select tier
    function selectTier(tier) {
      // Remove previous selections
      document.querySelectorAll('.result-item').forEach(item => {
        item.classList.remove('selected');
      });
      
      // Add selection to clicked tier
      document.querySelector(`.tier-${tier}`).classList.add('selected');
      
      // Define tier data
      const tierData = {
        1: { name: 'Starter Level', annual: 12505, monthly: 1042, direct: 100, elite: 0 },
        2: { name: 'Active Level', annual: 60026, monthly: 5002, direct: 200, elite: 920 },
        3: { name: 'Elite Level', annual: 300130, monthly: 25011, direct: 300, elite: 1380 }
      };
      
      selectedTierData = tierData[tier];
      
      // Show tier details
      const tierDetails = document.getElementById('tierDetails');
      tierDetails.style.display = 'block';
      
      document.getElementById('selectedTierTitle').textContent = `${selectedTierData.name} Details`;
      document.getElementById('directReferrals').textContent = selectedTierData.direct;
      document.getElementById('eliteReferrals').textContent = selectedTierData.elite;
      document.getElementById('monthlyIncome').textContent = `${selectedTierData.monthly.toLocaleString()}`;
      document.getElementById('annualIncome').textContent = `${selectedTierData.annual.toLocaleString()}`;
    }
    
    // Populate summary
    function populateSummary() {
      const businessTotal = calculateBusinessTotal();
      const personalTotal = calculatePersonalTotal();
      const totalExpenses = businessTotal + personalTotal;
      
      document.getElementById('totalExpenses').textContent = `${totalExpenses.toLocaleString()}`;
      
      if (selectedTierData) {
        document.getElementById('incomeGoal').textContent = `${selectedTierData.monthly.toLocaleString()}`;
        
        // Calculate months to freedom (simplified calculation)
        const monthsToFreedom = selectedTierData.monthly > totalExpenses ? 
          Math.ceil((selectedTierData.direct + selectedTierData.elite) / 10) : 
          Math.ceil((selectedTierData.direct + selectedTierData.elite) / 5);
        
        document.getElementById('freedomMonths').textContent = monthsToFreedom;
      }
      
      // Populate report data
      populateReportData();
    }
    
    // Populate report data
    function populateReportData() {
      const firstName = document.getElementById('firstName').value || 'Not provided';
      const mobilePhone = document.getElementById('mobilePhone').value || 'Not provided';
      const tradeType = document.getElementById('tradeType').value || 'Not provided';
      
      document.getElementById('reportName').textContent = firstName;
      document.getElementById('reportPhone').textContent = mobilePhone;
      document.getElementById('reportTradeType').textContent = tradeType;
      document.getElementById('reportSubtitle').textContent = `Created for ${firstName}`;
      
      const businessTotal = calculateBusinessTotal();
      const personalTotal = calculatePersonalTotal();
      const totalExpenses = businessTotal + personalTotal;
      
      document.getElementById('reportTotalExpenses').textContent = `${totalExpenses.toLocaleString()}`;
      
      if (selectedTierData) {
        document.getElementById('reportIncomeGoal').textContent = `${selectedTierData.monthly.toLocaleString()}`;
        
        const monthsToFreedom = selectedTierData.monthly > totalExpenses ? 
          Math.ceil((selectedTierData.direct + selectedTierData.elite) / 10) : 
          Math.ceil((selectedTierData.direct + selectedTierData.elite) / 5);
        
        document.getElementById('reportFreedomTime').textContent = `${monthsToFreedom} months`;
        
        // Populate tier details
        const tierDetailsHtml = `
          <div style="background: #f8f9ff; padding: 20px; border-radius: 10px; margin: 15px 0;">
            <h4 style="color: #667eea; margin: 0 0 15px 0;">${selectedTierData.name}</h4>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
              <div><strong>Direct Referrals Required:</strong> ${selectedTierData.direct}</div>
              <div><strong>Elite Referrals Required:</strong> ${selectedTierData.elite}</div>
              <div><strong>Monthly Income Potential:</strong> ${selectedTierData.monthly.toLocaleString()}</div>
              <div><strong>Annual Income Potential:</strong> ${selectedTierData.annual.toLocaleString()}</div>
            </div>
          </div>
        `;
        document.getElementById('reportTierDetails').innerHTML = tierDetailsHtml;
      }
    }
    
    // Export summary PDF only
    function exportSummaryPDF() {
      // Show the summary report
      const summaryReport = document.getElementById('summaryReport');
      summaryReport.style.display = 'block';
      
      // Hide other elements
      const elementsToHide = [
        '.progress-container',
        '.navigation',
        '.step',
        '.action-buttons'
      ];
      
      const hiddenElements = [];
      elementsToHide.forEach(selector => {
        const elements = document.querySelectorAll(selector);
        elements.forEach(el => {
          hiddenElements.push({ element: el, originalDisplay: el.style.display });
          el.style.display = 'none';
        });
      });
      
      // Generate PDF of summary only
      const opt = {
        margin: 0.5,
        filename: `Freedom-Forecast-Summary-${document.getElementById('firstName').value || 'Report'}.pdf`,
        image: { type: 'jpeg', quality: 0.98 },
        html2canvas: { scale: 2, useCORS: true },
        jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' }
      };
      
      html2pdf().set(opt).from(summaryReport).save().then(() => {
        // Restore original visibility
        hiddenElements.forEach(({ element, originalDisplay }) => {
          element.style.display = originalDisplay;
        });
        
        // Hide summary report again
        summaryReport.style.display = 'none';
      });
    }
    
    // Register now function
    function registerNow() {
      // Collect user data
      const userData = {
        firstName: document.getElementById('firstName').value,
        mobilePhone: document.getElementById('mobilePhone').value,
        tradeType: document.getElementById('tradeType').value,
        selectedTier: selectedTierData ? selectedTierData.name : 'Not selected',
        timestamp: new Date().toISOString()
      };
      
      // You can send this data to your backend/CRM here
      console.log('Registration data:', userData);
      
      // Redirect to registration page
      window.open('https://snazzy-twilight-b3f555.netlify.app/', '_blank');
      
      // Show success message
      alert('Thank you for your interest! We\'ll be opening the registration page. Someone from our team will contact you soon to complete your application.');
    }
    
    // PDF Export Function - Original full version (kept for compatibility)
    function exportFullPDF() {
      exportSummaryPDF(); // Just redirect to summary PDF
    }
    
    // Function to play top avatar audio (wave1.wav) and auto-play video after
    function playTopAvatarAudio() {
      const audio = document.getElementById('topAvatarAudio');
      const overlay = document.getElementById('topClickMeOverlay');
      const vimeoIframe = document.getElementById('founderVideo');
      
      audio.play().catch(error => {
        console.log('Audio play failed:', error);
      });
      
      // Hide the "click me" overlay after clicking
      if (overlay) {
        overlay.style.display = 'none';
      }
      
      // Auto-play Vimeo video 1 second after audio ends
      audio.addEventListener('ended', function() {
        setTimeout(function() {
          const player = new Vimeo.Player(vimeoIframe);
          player.play().catch(error => {
            console.log('Vimeo video autoplay failed:', error);
          });
          
          // Listen for video end, then play bottom avatar after 1 second
          player.on('ended', function() {
            setTimeout(function() {
              playBottomAvatarAudio();
            }, 1000); // 1 second delay after video ends
          });
        }, 1000); // 1 second delay
      });
    }
    
    // Function to play bottom avatar audio (wave2.wav)
    function playBottomAvatarAudio() {
      const audio = document.getElementById('bottomAvatarAudio');
      const overlay = document.getElementById('bottomClickMeOverlay');
      
      audio.play().catch(error => {
        console.log('Audio play failed:', error);
      });
      
      // Hide the "click me" overlay after clicking
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
    
    // Function to play Step 2 avatar audio (wave3.wav)
    function playStep2AvatarAudio() {
      const audio = document.getElementById('step2AvatarAudio');
      const overlay = document.getElementById('step2ClickMeOverlay');
      
      audio.play().catch(error => {
        console.log('Audio play failed:', error);
      });
      
      // Hide the "click me" overlay after clicking
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
    
    // Function to play Step 3 avatar audio (wave4.wav)
    function playStep3AvatarAudio() {
      const audio = document.getElementById('step3AvatarAudio');
      const overlay = document.getElementById('step3ClickMeOverlay');
      
      audio.play().catch(error => {
        console.log('Audio play failed:', error);
      });
      
      // Hide the "click me" overlay after clicking
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
    
    // Function to play Step 4 avatar audio (wave5.wav)
    function playStep4AvatarAudio() {
      const audio = document.getElementById('step4AvatarAudio');
      const overlay = document.getElementById('step4ClickMeOverlay');
      
      audio.play().catch(error => {
        console.log('Audio play failed:', error);
      });
      
      // Hide the "click me" overlay after clicking
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
    
    // Function to play Step 5 avatar audio (wave6.wav)
    function playStep5AvatarAudio() {
      const audio = document.getElementById('step5AvatarAudio');
      const overlay = document.getElementById('step5ClickMeOverlay');
      
      audio.play().catch(error => {
        console.log('Audio play failed:', error);
      });
      
      // Hide the "click me" overlay after clicking
      if (overlay) {
        overlay.style.display = 'none';
      }
    }
    
    // Initialize on page load
    document.addEventListener('DOMContentLoaded', function() {
      init();
    });
  </script>
  
  <style>
    @keyframes flash {
      0%, 50% { opacity: 1; }
      25%, 75% { opacity: 0.3; }
    }
    
    @keyframes pulse-glow {
      0%, 100% { 
        box-shadow: 0 0 20px rgba(102, 126, 234, 0.6), 0 0 40px rgba(102, 126, 234, 0.4), 0 0 60px rgba(102, 126, 234, 0.2);
      }
      50% { 
        box-shadow: 0 0 30px rgba(102, 126, 234, 0.8), 0 0 60px rgba(102, 126, 234, 0.6), 0 0 90px rgba(102, 126, 234, 0.4);
      }
    }
    
    /* Additional styles for the new elements */
    .btn-register {
      background: linear-gradient(135deg, #28a745, #20c997);
      color: white;
      border: none;
      padding: 15px 30px;
      border-radius: 25px;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-block;
    }
    
    .btn-register:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(40, 167, 69, 0.4);
      background: linear-gradient(135deg, #218838, #1abc9c);
    }
    
    .btn-export {
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      border: none;
      padding: 15px 30px;
      border-radius: 25px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
      transition: all 0.3s ease;
    }
    
    .btn-export:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
    }
    
    .action-buttons {
      text-align: center;
      margin: 30px 0;
    }
    
    .result-item.selected {
      border: 3px solid #28a745;
      background: linear-gradient(135deg, #f8fff8, #e8f5e8);
      transform: scale(1.05);
    }
    
    .report-section {
      margin: 25px 0;
      page-break-inside: avoid;
    }
    
    .report-header {
      text-align: center;
      margin-bottom: 30px;
    }
    
    .report-content {
      line-height: 1.6;
      color: #333;
    }
    
    /* Print styles */
    @media print {
      .navigation,
      .progress-container,
      .action-buttons {
        display: none !important;
      }
      
      .step {
        display: none !important;
      }
      
      #summaryReport {
        display: block !important;
      }
    }
  </style>
</body>
</html><!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Small Trades Evolution - Freedom Forecast Dashboard</title>
  
  <!-- External Stylesheets -->
  <link href="https://fonts.googleapis.com/css2?family=Oswald+Display:wght@300;400;500;600;700&family=oswald+Text:wght@300;400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  
  <!-- External Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
</head>
<body>
  <div class="main-container">
    <header>
      <div class="brand-header">
        <div class="logo-container" style="width: 200px; height: 200px; display: flex; align-items: center; justify-content: center; margin-right: 30px; border-radius: 50%; box-shadow: 0 0 20px rgba(102, 126, 234, 0.6), 0 0 40px rgba(102, 126, 234, 0.4), 0 0 60px rgba(102, 126, 234, 0.2); animation: pulse-glow 2s infinite;">
          <img src="https://raw.githubusercontent.com/Smalltradesevo/cost-cal/main/assets/images/newlogo.png" alt="Small Trades Evolution Logo" style="height: 160px; width: auto; max-width: 100%;">
        </div>
        <div>
          <h1 class="brand-title">Freedom Forecast</h1>
          <p class="tagline">Small Trades Evolution - Relationships that benefit members & partners</p>
        </div>
      </div>
      
      <!-- Welcome Content Section -->
      <div class="welcome-section">
        <div class="welcome-content">
          <h2 class="welcome-title">Your Journey to Financial Freedom Starts Here</h2>
          <p class="welcome-description">
          <bold> You didn't land here by accident. Someone pointed you our way, or you saw something that made you stop scrolling. Good. That means you're curious — and if you're one of the first 25 to act and apply for one of the twenty-five slots, you will thank us in a year. We guarentee it! Member Engagement is designed to create life-changing revenue for our early adopter referral agents. With lifetime residuals even after you say your done. We keep paying you as long as your referrals are in our program. Three years and you could walk away with an annual income of over $300K. Are you ready?
         </p>
          
          <div class="benefits-grid">
            <div class="benefit-item">
              <div class="benefit-icon">🎯</div>
              <h3>Crystal Clear Goals</h3>
              <p>See exactly how many referrals you need for each life milestone</p>
            </div>
            <div class="benefit-item">
              <div class="benefit-icon">📈</div>
              <h3>Compound Growth</h3>
              <p>Watch how weekly referrals compound into life-changing income</p>
            </div>
            <div class="benefit-item">
              <div class="benefit-icon">⚡</div>
              <h3>Multiple Pathways</h3>
              <p>Choose your pace: Starter, Active, or Elite performance levels</p>
            </div>
          </div>
        </div>
        
         <!-- New Avatar Above Video -->
          <div style="text-align: center; margin-bottom: 20px;">
            <div class="avatar-container" style="position: relative; display: inline-block; cursor: pointer; border-radius: 50%; box-shadow: 0 0 20px rgba(102, 126, 234, 0.6), 0 0 40px rgba(102, 126, 234, 0.4), 0 0 60px rgba(102, 126, 234, 0.2); animation: pulse-glow 2s infinite;" onclick="playTopAvatarAudio()">
              <img src="https://raw.githubusercontent.com/Smalltradesevo/cost-cal/main/assets/images/sexygirl.jpg" alt="AI Assistant" id="topAssistantAvatar" style="width: 200px; height: 200px; border-radius: 50%; object-fit: cover; border: 3px solid #667eea;">
              <div id="topClickMeOverlay" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(255, 255, 255, 0.9); color: #667eea; padding: 8px 16px; border-radius: 20px; font-weight: bold; animation: flash 1.5s infinite; pointer-events: none;">
                Click Me!
              </div>
            </div>
          </div>

        
        <!-- Welcome Video -->
        <div class="video-container">
                   
          <div class="video-placeholder welcome-video">
            <div style="padding:177.92% 0 0 0;position:relative;"><iframe id="founderVideo" src="https://player.vimeo.com/video/1099257778?title=0&amp;byline=0&amp;portrait=0&amp;badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479" frameborder="0" allow="autoplay; fullscreen; picture-in-picture; clipboard-write; encrypted-media; web-share" style="position:absolute;top:0;left:0;width:100%;height:100%;" title="intro"></iframe></div>
          </div>
        </div>
      </div>
    </header>

    <div class="intro-banner" id="introBanner">
      <div class="banner-content">
        <h3>Ready to Calculate Your Freedom?</h3>
        <p class="intro-text">This 5-step process will create your personalized roadmap to financial independence. You'll discover exactly how our referral system can fund your business, secure your family, and achieve your wildest dreams.</p>
        
        <!-- Female Avatar -->
        <div class="avatar-container" style="position: relative; display: inline-block; cursor: pointer; border-radius: 50%; box-shadow: 0 0 20px rgba(102, 126, 234, 0.6), 0 0 40px rgba(102, 126, 234, 0.4), 0 0 60px rgba(102, 126, 234, 0.2); animation: pulse-glow 2s infinite;" onclick="playBottomAvatarAudio()">
          <img src="https://raw.githubusercontent.com/Smalltradesevo/cost-cal/main/assets/images/sexygirl.jpg" alt="AI Assistant" id="bottomAssistantAvatar" style="width: 200px; height: 200px; border-radius: 50%; object-fit: cover; border: 3px solid #667eea;">
          <div id="bottomClickMeOverlay" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(255, 255, 255, 0.9); color: #667eea; padding: 8px 16px; border-radius: 20px; font-weight: bold; animation: flash 1.5s infinite; pointer-events: none;">
            Click Me!
          </div>
        </div>
        
        <button class="btn-dismiss" onclick="hideIntro()">Let's Build Your Future</button>
      </div>
    </div>

    <div class="dashboard-container" id="reportContainer">
      <div class="progress-container">
        <div class="progress-bar">
          <div class="progress-fill" id="progressFill"></div>
        </div>
        <div class="progress-info">
          <span class="progress-text" id="progressText">Step 1 of 5</span>
          <div class="step-indicator" id="stepIndicator">
            <div class="step-dot active"></div>
            <div class="step-dot"></div>
            <div class="step-dot"></div>
            <div class="step-dot"></div>
            <div class="step-dot"></div>
          </div>
        </div>
      </div>

      <div class="content-area">
        <!-- Step 1: Quick Info + Vision Board -->
        <div id="step-1" class="step active">
          <div class="step-header">
            <h2 class="step-title">👋 Let's Get Started</h2>
            <p class="step-subtitle">First, tell us who we're building this forecast for</p>
          </div>
          
          <!-- Quick Lead Capture -->
          <div class="lead-capture-section">
            <div class="lead-form">
              <div class="form-group">
                <label class="form-label">What's your first name?</label>
                <input type="text" id="firstName" class="form-input vision-input" placeholder="Enter your first name" required onchange="checkVisionCompletion()">
              </div>
              <div class="form-group">
                <label class="form-label">Mobile Phone</label>
                <input type="tel" id="mobilePhone" class="form-input vision-input" placeholder="555-222-1234" onchange="checkVisionCompletion()">
              </div>
              <div class="form-group">
                <label class="form-label">Tells us why you would make a great elite referral agent</label>
                <input type="text" id="tradeType" class="form-input vision-input" placeholder="I am driven, hungry, want to be part of this movement" onchange="checkVisionCompletion()">
              </div>
            </div>
          </div>
          
          <div class="section-divider">
            <h3 class="divider-title">✨ Now Let's Paint Your Vision</h3>
            <p class="divider-subtitle">Help us understand what financial freedom looks like for you</p>
          </div>
          
          <div class="vision-grid">
                      
            <div class="vision-card">
              <div class="card-decoration"></div>
              <div class="vision-card-icon">🏡</div>
              <label class="form-label">Dream Home</label>
              <textarea class="form-textarea vision-input" rows="3" placeholder="4BR/3BA with pool, large kitchen, home office, mountain views..." onchange="checkVisionCompletion()"></textarea>
              <div class="vision-hint">Bedrooms, bathrooms, special features, location, outdoor space...</div>
            </div>
            
            <div class="vision-card">
              <div class="card-decoration"></div>
              <div class="vision-card-icon">🚗</div>
              <label class="form-label">Vehicle Dreams</label>
              <input type="text" class="form-input vision-input" placeholder="Tesla Model S, Ford F-150, family SUV, classic car..." onchange="checkVisionCompletion()">
              <div class="vision-hint">Current cars, dream vehicles, recreational vehicles...</div>
            </div>
            
            <div class="vision-card">
              <div class="card-decoration"></div>
              <div class="vision-card-icon">💪</div>
              <label class="form-label">Health & Fitness Goals</label>
              <textarea class="form-textarea vision-input" rows="3" placeholder="Daily workouts, healthy weight, energy for family activities, personal trainer..." onchange="checkVisionCompletion()"></textarea>
              <div class="vision-hint">Fitness goals, nutrition plans, wellness routines, health investments...</div>
            </div>
            
            <div class="vision-card">
              <div class="card-decoration"></div>
              <div class="vision-card-icon">🎯</div>
              <label class="form-label">Hobbies & Passions</label>
              <input type="text" class="form-input vision-input" placeholder="Golf, photography, cooking, reading, music, sports..." onchange="checkVisionCompletion()">
              <div class="vision-hint">How do you love spending your free time? What brings you joy?</div>
            </div>
            
            <div class="vision-card">
              <div class="card-decoration"></div>
              <div class="vision-card-icon">✈️</div>
              <label class="form-label">Travel Dreams</label>
              <textarea class="form-textarea vision-input" rows="2" placeholder="Europe annually, beach trips quarterly, Disney with kids, adventure travel..." onchange="checkVisionCompletion()"></textarea>
              <div class="vision-hint">Frequency, destinations, travel style, bucket list experiences...</div>
            </div>
            
            <div class="vision-card">
              <div class="card-decoration"></div>
              <div class="vision-card-icon">👨‍👩‍👧‍👦</div>
              <label class="form-label">Family Goals</label>
              <textarea class="form-textarea vision-input" rows="2" placeholder="Kids' college funds, family traditions, quality time, legacy building..." onchange="checkVisionCompletion()"></textarea>
              <div class="vision-hint">Children, education, family experiences, generational wealth...</div>
            </div>
            
            <div class="vision-card">
              <div class="card-decoration"></div>
              <div class="vision-card-icon">🛥️</div>
              <label class="form-label">Recreational Investments</label>
              <input type="text" class="form-input vision-input" placeholder="Boat, RV, motorcycles, skiing equipment, workshop tools..." onchange="checkVisionCompletion()">
              <div class="vision-hint">Boats, recreational vehicles, hobby equipment, outdoor gear...</div>
            </div>
            
            <div class="vision-card">
              <div class="card-decoration"></div>
              <div class="vision-card-icon">💰</div>
              <label class="form-label">Financial Security</label>
              <textarea class="form-textarea vision-input" rows="2" placeholder="Emergency fund, retirement savings, investment properties, passive income..." onchange="checkVisionCompletion()"></textarea>
              <div class="vision-hint">Savings goals, investments, financial independence milestones...</div>
            </div>
            
            <div class="vision-card">
              <div class="card-decoration"></div>
              <div class="vision-card-icon">💖</div>
              <label class="form-label">Giving Back</label>
              <textarea class="form-textarea vision-input" rows="2" placeholder="Local charities, church, children's causes, community development..." onchange="checkVisionCompletion()"></textarea>
              <div class="vision-hint">Causes you care about, community involvement, philanthropic goals...</div>
            </div>
          </div>
          
          <!-- Completion Gate -->
          <div id="completionGate" class="completion-gate" style="display: none;">
            <div class="completion-message">
              <h3>🎉 Vision Board Complete!</h3>
              <p>Great job painting your vision! Now let's calculate how our referral system can make it reality.</p>
            </div>
          </div>
        </div>

        <!-- Step 2: Business Expenses -->
        <div id="step-2" class="step">
          <!-- Avatar for Step 2 -->
          <div style="text-align: center; margin-bottom: 20px;">
            <div class="avatar-container" style="position: relative; display: inline-block; cursor: pointer; border-radius: 50%; box-shadow: 0 0 20px rgba(102, 126, 234, 0.6), 0 0 40px rgba(102, 126, 234, 0.4), 0 0 60px rgba(102, 126, 234, 0.2); animation: pulse-glow 2s infinite;" onclick="playStep2AvatarAudio()">
              <img src="https://raw.githubusercontent.com/Smalltradesevo/cost-cal/main/assets/images/sexygirl.jpg" alt="AI Assistant" id="step2AssistantAvatar" style="width: 200px; height: 200px; border-radius: 50%; object-fit: cover; border: 3px solid #667eea;">
              <div id="step2ClickMeOverlay" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(255, 255, 255, 0.9); color: #667eea; padding: 8px 16px; border-radius: 20px; font-weight: bold; animation: flash 1.5s infinite; pointer-events: none;">
                Click Me!
              </div>
            </div>
          </div>
          
          <div class="step-header">
            <h2 class="step-title">🔧 Business Expenses</h2>
            <p class="step-subtitle">Enter your monthly business operational costs</p>
          </div>
          
          <div class="form-grid">
            <div class="form-group">
              <label class="form-label">Cost of Goods Sold (COGS)</label>
              <div class="currency-input">
                <input type="number" id="cogs" class="form-input" placeholder="2500" min="0" step="1" oninput="calculateBusinessTotal()">
              </div>
              <div class="cost-hint">Materials, supplies, direct labor costs for your trade</div>
            </div>
            
            <div class="form-group">
              <label class="form-label">Tools & Equipment</label>
              <div class="currency-input">
                <input type="number" id="tools" class="form-input" placeholder="800" min="0" step="1" oninput="calculateBusinessTotal()">
              </div>
              <div class="cost-hint">Tool purchases, equipment maintenance, technology upgrades</div>
            </div>
            
            <div class="form-group">
              <label class="form-label">Fleet & Fuel</label>
              <div class="currency-input">
                <input type="number" id="fleet" class="form-input" placeholder="600" min="0" step="1" oninput="calculateBusinessTotal()">
              </div>
              <div class="cost-hint">Vehicle payments, fuel, maintenance, insurance</div>
            </div>
            
            <div class="form-group">
              <label class="form-label">Merchant Fees & Processing</label>
              <div class="currency-input">
                <input type="number" id="merchantFees" class="form-input" placeholder="200" min="0" step="1" oninput="calculateBusinessTotal()">
              </div>
              <div class="cost-hint">Payment processing, banking fees, software subscriptions</div>
            </div>
            
            <div class="form-group">
              <label class="form-label">Marketing & Advertising</label>
              <div class="currency-input">
                <input type="number" id="marketing" class="form-input" placeholder="500" min="0" step="1" oninput="calculateBusinessTotal()">
              </div>
              <div class="cost-hint">Ads, website, business cards, lead generation</div>
            </div>
            
            <div class="form-group">
              <label class="form-label">Insurance & Licensing</label>
              <div class="currency-input">
                <input type="number" id="insurance" class="form-input" placeholder="400" min="0" step="1" oninput="calculateBusinessTotal()">
              </div>
              <div class="cost-hint">Liability, bonding, permits, professional licenses</div>
            </div>
          </div>
          
          <!-- Business Expense Summary -->
          <div class="cost-breakdown">
            <h3>Monthly Business Expenses Summary</h3>
            <div class="breakdown-item">
              <span class="breakdown-label">Cost of Goods Sold</span>
              <span class="breakdown-value" id="cogsDisplay">$0</span>
            </div>
            <div class="breakdown-item">
              <span class="breakdown-label">Tools & Equipment</span>
              <span class="breakdown-value" id="toolsDisplay">$0</span>
            </div>
            <div class="breakdown-item">
              <span class="breakdown-label">Fleet & Fuel</span>
              <span class="breakdown-value" id="fleetDisplay">$0</span>
            </div>
            <div class="breakdown-item">
              <span class="breakdown-label">Merchant Fees</span>
              <span class="breakdown-value" id="merchantDisplay">$0</span>
            </div>
            <div class="breakdown-item">
              <span class="breakdown-label">Marketing</span>
              <span class="breakdown-value" id="marketingDisplay">$0</span>
            </div>
            <div class="breakdown-item">
              <span class="breakdown-label">Insurance</span>
              <span class="breakdown-value" id="insuranceDisplay">$0</span>
            </div>
            <div class="breakdown-item total">
              <span class="breakdown-label">Total Monthly Business Expenses</span>
              <span class="breakdown-value" id="businessTotal">$0</span>
            </div>
          </div>
        </div>

        <!-- Step 3: Personal & Family Expenses -->
        <div id="step-3" class="step">
          <!-- Avatar for Step 3 -->
          <div style="text-align: center; margin-bottom: 20px;">
            <div class="avatar-container" style="position: relative; display: inline-block; cursor: pointer; border-radius: 50%; box-shadow: 0 0 20px rgba(102, 126, 234, 0.6), 0 0 40px rgba(102, 126, 234, 0.4), 0 0 60px rgba(102, 126, 234, 0.2); animation: pulse-glow 2s infinite;" onclick="playStep3AvatarAudio()">
              <img src="https://raw.githubusercontent.com/Smalltradesevo/cost-cal/main/assets/images/sexygirl.jpg" alt="AI Assistant" id="step3AssistantAvatar" style="width: 200px; height: 200px; border-radius: 50%; object-fit: cover; border: 3px solid #667eea;">
              <div id="step3ClickMeOverlay" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(255, 255, 255, 0.9); color: #667eea; padding: 8px 16px; border-radius: 20px; font-weight: bold; animation: flash 1.5s infinite; pointer-events: none;">
                Click Me!
              </div>
            </div>
          </div>
          
          <div class="step-header">
            <h2 class="step-title">🏠 Personal & Family Expenses</h2>
            <p class="step-subtitle">Enter your monthly personal and family costs</p>
          </div>
          
          <div class="form-grid">
            <div class="form-group">
              <label class="form-label">Housing (Rent/Mortgage)</label>
              <div class="currency-input">
                <input type="number" id="housing" class="form-input" placeholder="2000" min="0" step="1" oninput="calculatePersonalTotal()">
              </div>
              <div class="cost-hint">Rent, mortgage, property taxes, HOA fees</div>
            </div>
            
            <div class="form-group">
              <label class="form-label">Utilities & Services</label>
              <div class="currency-input">
                <input type="number" id="utilities" class="form-input" placeholder="300" min="0" step="1" oninput="calculatePersonalTotal()">
              </div>
              <div class="cost-hint">Electric, gas, water, internet, phone, streaming</div>
            </div>
            
            <div class="form-group">
              <label class="form-label">Food & Groceries</label>
              <div class="currency-input">
                <input type="number" id="food" class="form-input" placeholder="800" min="0" step="1" oninput="calculatePersonalTotal()">
              </div>
              <div class="cost-hint">Groceries, dining out, family meals</div>
            </div>
            
            <div class="form-group">
              <label class="form-label">Transportation</label>
              <div class="currency-input">
                <input type="number" id="transportation" class="form-input" placeholder="600" min="0" step="1" oninput="calculatePersonalTotal()">
              </div>
              <div class="cost-hint">Personal vehicle payments, fuel, maintenance</div>
            </div>
            
            <div class="form-group">
              <label class="form-label">Healthcare & Medical</label>
              <div class="currency-input">
                <input type="number" id="healthcare" class="form-input" placeholder="400" min="0" step="1" oninput="calculatePersonalTotal()">
              </div>
              <div class="cost-hint">Insurance premiums, medications, doctor visits</div>
            </div>
            
            <div class="form-group">
              <label class="form-label">Entertainment & Recreation</label>
              <div class="currency-input">
                <input type="number" id="entertainment" class="form-input" placeholder="500" min="0" step="1" oninput="calculatePersonalTotal()">
              </div>
              <div class="cost-hint">Movies, sports, hobbies, family activities</div>
            </div>
          </div>
          
          <!-- Personal Expense Summary -->
          <div class="cost-breakdown">
            <h3>Monthly Personal & Family Expenses</h3>
            <div class="breakdown-item">
              <span class="breakdown-label">Housing</span>
              <span class="breakdown-value" id="housingDisplay">$0</span>
            </div>
            <div class="breakdown-item">
              <span class="breakdown-label">Utilities</span>
              <span class="breakdown-value" id="utilitiesDisplay">$0</span>
            </div>
            <div class="breakdown-item">
              <span class="breakdown-label">Food</span>
              <span class="breakdown-value" id="foodDisplay">$0</span>
            </div>
            <div class="breakdown-item">
              <span class="breakdown-label">Transportation</span>
              <span class="breakdown-value" id="transportationDisplay">$0</span>
            </div>
            <div class="breakdown-item">
              <span class="breakdown-label">Healthcare</span>
              <span class="breakdown-value" id="healthcareDisplay">$0</span>
            </div>
            <div class="breakdown-item">
              <span class="breakdown-label">Entertainment</span>
              <span class="breakdown-value" id="entertainmentDisplay">$0</span>
            </div>
            <div class="breakdown-item total">
              <span class="breakdown-label">Total Monthly Personal Expenses</span>
              <span class="breakdown-value" id="personalTotal">$0</span>
            </div>
          </div>
        </div>

        <!-- Step 4: Referral Income Calculator -->
        <div id="step-4" class="step">
          <!-- Avatar for Step 4 -->
          <div style="text-align: center; margin-bottom: 20px;">
            <div class="avatar-container" style="position: relative; display: inline-block; cursor: pointer; border-radius: 50%; box-shadow: 0 0 20px rgba(102, 126, 234, 0.6), 0 0 40px rgba(102, 126, 234, 0.4), 0 0 60px rgba(102, 126, 234, 0.2); animation: pulse-glow 2s infinite;" onclick="playStep4AvatarAudio()">
              <img src="https://raw.githubusercontent.com/Smalltradesevo/cost-cal/main/assets/images/sexygirl.jpg" alt="AI Assistant" id="step4AssistantAvatar" style="width: 200px; height: 200px; border-radius: 50%; object-fit: cover; border: 3px solid #667eea;">
              <div id="step4ClickMeOverlay" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(255, 255, 255, 0.9); color: #667eea; padding: 8px 16px; border-radius: 20px; font-weight: bold; animation: flash 1.5s infinite; pointer-events: none;">
                Click Me!
              </div>
            </div>
          </div>
          
          <div class="step-header">
            <h2 class="step-title">💰 Your Referral Income Potential</h2>
            <p class="step-subtitle">Based on Small Trades Evolution's proven commission structure</p>
          </div>
          
          <div class="results-card">
            <h3 class="results-title">Choose Your Performance Level</h3>
            <div class="results-grid">
              <div class="result-item tier-1" onclick="selectTier(1)">
                <div class="result-label">Starter Level</div>
                <div class="result-value">$12,505</div>
                <div class="result-time">100 Referrals</div>
                <div class="result-earning">1.00% Bonus Rate</div>
              </div>
              
              <div class="result-item tier-2" onclick="selectTier(2)">
                <div class="result-label">Active Level</div>
                <div class="result-value">$60,026</div>
                <div class="result-time">200 + 920 Elite</div>
                <div class="result-earning">1.25% + 0.25% Bonus</div>
              </div>
              
              <div class="result-item tier-3" onclick="selectTier(3)">
                <div class="result-label">Elite Level</div>
                <div class="result-value">$300,130</div>
                <div class="result-time">300 + 1380 Elite</div>
                <div class="result-earning">2.25% + 1.25% Bonus</div>
              </div>
            </div>
          </div>
          
          <!-- Selected Tier Details -->
          <div id="tierDetails" class="cost-breakdown" style="display: none;">
            <h3 id="selectedTierTitle">Performance Level Details</h3>
            <div class="breakdown-item">
              <span class="breakdown-label">Direct Referrals Needed</span>
              <span class="breakdown-value" id="directReferrals">0</span>
            </div>
            <div class="breakdown-item">
              <span class="breakdown-label">Elite Referrals Needed</span>
              <span class="breakdown-value" id="eliteReferrals">0</span>
            </div>
            <div class="breakdown-item">
              <span class="breakdown
